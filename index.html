<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mash's Musings</title>
    <link href="./style.css" rel="stylesheet" type="text/css" media="all">
  </head>
  <body>

    <div id="heading">

      <h3>Mash's Musings</h3>

      <ul class="topnav">
        <li><a href="/">Musings</a></li>
        <li><a href="/books.html">Readings</a></li>
      </ul>

    </div>

    <script>
      loadDoc("posts/posts.xml", getLinks);

      function loadDoc(url, cFunction) {
        var xhttp;
        xhttp=new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            cFunction(this);
          }
        };
        xhttp.open("GET", url, true);
        xhttp.send();
      }

      function getLinks(xhttp) {
              var txt = "";
              var xmlDoc = xhttp.responseXML;
              var links = xmlDoc.getElementsByTagName("link");
              for (i = 0; i < links.length; i++) {
                      loadDoc(links[i].childNodes[0].nodeValue, parsePost);
                    }
            }

      function parsePost(xhttp) {
              var htmlDoc, post;
              var parser = new DOMParser();
              htmlDoc = parser.parseFromString(xhttp.responseText, "text/html");
              post = htmlDoc.getElementById("post");
              document.body.appendChild(document.createElement("HR"));
              document.body.appendChild(post);
            }

    </script>

  </body>
</html>
